#echo 'load base_zshrc'

# os
export MacOS_flag=0
export WSL_flag=0
export LINUX_flag=0
if [[ $OSTYPE = "darwin"* ]]; then
    MacOS_flag=1
elif [[ $OSTYPE = "linux-gnu" ]]; then
    if [[ $(uname -r) == *"microsoft"* ]]; then
        WSL_flag=1
    else
        LINUX_flag=1
    fi
fi
#echo MacOS_flag $MacOS_flag WSL_flag $WSL_flag LINUX_flag $LINUX_flag

# alias
## ls
alias la='ls -alGF'
alias ll='ls -lGF'
alias ls='ls -GF'
## exit
alias x='exit'

# zsh color
export LSCOLORS=gxfxcxdxbxegedabagacad

# brew 補完(zsh-completions))
if type brew &>/dev/null
then
  FPATH="$(brew --prefix)/share/zsh/site-functions:${FPATH}"
  FPATH="$(brew --prefix)/share/zsh-completions:${FPATH}"
  autoload -Uz compinit && compinit
fi

# コマンドのスペルミスの修正
setopt correct

# コマンドを即認識
zstyle ":completion:*:commands" rehash 1

# history
## 引数でhistoryのgrepを行う
alias his='history | grep'
## プロンプト複数起動時のhistory共有
setopt share_history
## 重複するコマンドのhistory削除
setopt hist_ignore_all_dups
## メモリに保存される履歴の件数
export HISTSIZE=1000
## 履歴ファイルに保存される履歴の件数
export SAVEHIST=10000

# cd
## cd -で以前移動したディレクトリを表示
setopt auto_pushd

# split zshrc
## TeX
source $HOME/.mac_local_zshrc/split_zshrc/tex_zshrc

## open command alias
source $HOME/.mac_local_zshrc/split_zshrc/open_alias_zshrc

## python
source $HOME/.mac_local_zshrc/split_zshrc/python_zshrc

## shell script
source $HOME/.mac_local_zshrc/split_zshrc/shell_script_zshrc

## go
source $HOME/.mac_local_zshrc/split_zshrc/go_zshrc

## git-completion & git-prompt
source $HOME/.mac_local_zshrc/split_zshrc/git_zshrc

## prompt
###export PS1='%F{white}%U %n [ %m : %~ ]%u%f'$'\n''%F{white}$ %f' # default
export PS1='%F{white}%U %n [ %m : %~ ]%u%f''%F{white} $(__git_ps1 "(%s)") %f'$'\n''%F{white}$ %f' # show git branch
